set(SUPPORTS_CXX "FALSE")
if("${COMPILER}" STREQUAL "intel")
  set(MPIFC "mpif90")
  set(FFLAGS_NOOPT "-O0")
  set(CXXFLAGS "-std=c++11 -fp-model source")
  set(MPICC "mpicc")
  set(SCC "icc")
  set(MPICXX "mpicxx")
  set(HAS_F2008_CONTIGUOUS "TRUE")
  set(CXX_LDFLAGS "-cxxlib")
  set(SUPPORTS_CXX "TRUE")
  set(FFLAGS "-convert big_endian -assume byterecl -ftz -traceback -assume realloc_lhs -fp-model source")
  set(FIXEDFLAGS "-fixed -132")
  set(CXX_LINKER "FORTRAN")
  set(FC_AUTO_R8 "-r8")
  set(CFLAGS "-O2 -fp-model precise -std=gnu99")
  set(FREEFLAGS "-free")
  set(SFC "ifort")
  set(SCXX "icpc")
endif()
if("${COMPILER}" STREQUAL "gnu")
  set(FFLAGS_NOOPT "-O0")
  set(HAS_F2008_CONTIGUOUS "FALSE")
  set(CFLAGS "-mcmodel=medium")
endif()
if("${COMPILER}" STREQUAL "gnu")
  set(MPIFC "mpif90")
  set(MPICC "mpicc")
  set(LAPACK_LIBDIR "/software/tools/compilers/intel_2017/mkl/lib/intel64")
  set(PNETCDF_PATH "/software/dev_tools/swtree/cs400_centos7.2_pe2016-08/pnetcdf/1.9.0/centos7.2_gnu5.3.0")
  set(SCC "gcc")
  set(NETCDF_C_PATH "/software/dev_tools/swtree/cs400_centos7.2_pe2016-08/netcdf/4.3.3.1/centos7.2_gnu5.3.0")
  set(MPICXX "mpic++")
  set(NETCDF_PATH "/software/dev_tools/swtree/cs400_centos7.2_pe2016-08/netcdf-hdf5parallel/4.3.3.1/centos7.2_gnu5.3.0")
  set(SUPPORTS_CXX "TRUE")
  set(FFLAGS "-O -fconvert=big-endian -ffree-line-length-none -ffixed-line-length-none -fno-range-check")
  set(FIXEDFLAGS "-ffixed-form")
  set(HDF5_PATH "/software/dev_tools/swtree/cs400_centos7.2_pe2016-08/hdf5-parallel/1.10.6/centos7.5_gnu8.1.0")
  set(CXX_LINKER "FORTRAN")
  set(FC_AUTO_R8 "-fdefault-real-8")
  set(NETCDF_FORTRAN_PATH "/software/dev_tools/swtree/cs400_centos7.2_pe2016-08/netcdf/4.3.3.1/centos7.2_gnu5.3.0")
  set(FREEFLAGS "-ffree-form")
  set(SFC "gfortran")
  set(SCXX "g++")
endif()
if("${MODEL}" STREQUAL "glc")
  set(CPPDEFS "${CPPDEFS}  -DUSE_PIO2 -DCPL_BYPASS")
endif()
if("${MODEL}" STREQUAL "ice")
  set(CPPDEFS "${CPPDEFS}  -DUSE_PIO2 -DCPL_BYPASS")
endif()
if("${MODEL}" STREQUAL "ocn")
  set(CPPDEFS "${CPPDEFS}  -DUSE_PIO2 -DCPL_BYPASS")
endif()
if("${COMPILER}" STREQUAL "intel")
  set(CPPDEFS "${CPPDEFS}  -DFORTRANUNDERSCORE -DNO_R16 -DCPRINTEL -DCPL_BYPASS")
  if("${compile_threaded}" STREQUAL "TRUE")
    set(CXXFLAGS "${CXXFLAGS}  -qopenmp")
    set(FFLAGS "${FFLAGS}  -qopenmp")
    set(CFLAGS "${CFLAGS}  -qopenmp")
  endif()
  if("${DEBUG}" STREQUAL "TRUE")
    set(CXXFLAGS "${CXXFLAGS}  -O0 -g")
    set(FFLAGS "${FFLAGS}  -O0 -g -check uninit -check bounds -check pointers -fpe0 -check noarg_temp_created")
    set(CFLAGS "${CFLAGS}  -O0 -g")
  endif()
  if("${DEBUG}" STREQUAL "FALSE")
    set(CXXFLAGS "${CXXFLAGS}  -O2")
    set(FFLAGS "${FFLAGS}  -O2 -debug minimal")
    set(CFLAGS "${CFLAGS}  -O2 -debug minimal")
  endif()
endif()
if("${COMPILER}" STREQUAL "gnu")
  set(CPPDEFS "${CPPDEFS}  -DFORTRANUNDERSCORE -DNO_R16 -DCPRGNU -DCPL_BYPASS")
  set(CPPDEFS "${CPPDEFS}  -DFORTRANUNDERSCORE -DNO_R16 -DCPL_BYPASS")
  if("${compile_threaded}" STREQUAL "TRUE")
    set(CFLAGS "${CFLAGS}  -fopenmp")
    set(CFLAGS "${CFLAGS}  -fopenmp")
  endif()
  if("${MODEL}" STREQUAL "csm_share")
    set(CFLAGS "${CFLAGS}  -std=c99")
  endif()
  if("${compile_threaded}" STREQUAL "TRUE")
    set(FFLAGS "${FFLAGS}  -fopenmp")
    set(FFLAGS "${FFLAGS}  -fopenmp")
  endif()
  if("${DEBUG}" STREQUAL "TRUE")
    set(FFLAGS "${FFLAGS}  -g -Wall -Og -fbacktrace -fcheck=bounds -ffpe-trap=invalid,zero,overflow")
    set(FFLAGS "${FFLAGS}  -g -Wall")
    set(CFLAGS "${CFLAGS}  -g -Wall -Og -fbacktrace -fcheck=bounds -ffpe-trap=invalid,zero,overflow")
  endif()
  if("${DEBUG}" STREQUAL "FALSE")
    set(FFLAGS "${FFLAGS}  -O")
    set(CFLAGS "${CFLAGS}  -O")
  endif()
  if("${MODEL}" STREQUAL "cism")
    set(CMAKE_OPTS "${CMAKE_OPTS}  -D CISM_GNU=ON")
    set(CMAKE_OPTS "${CMAKE_OPTS}  -D CISM_GNU=ON")
  endif()
endif()
if("${COMPILER}" STREQUAL "intel")
  if("${compile_threaded}" STREQUAL "TRUE")
    set(LDFLAGS "${LDFLAGS}  -qopenmp")
  endif()
endif()
if("${COMPILER}" STREQUAL "gnu")
  if("${compile_threaded}" STREQUAL "TRUE")
    set(LDFLAGS "${LDFLAGS}  -fopenmp")
    set(LDFLAGS "${LDFLAGS}  -fopenmp")
  endif()
  if("${MODEL}" STREQUAL "driver")
    set(LDFLAGS "${LDFLAGS}  -L${NETCDF_PATH}/lib -Wl,-rpath=${NETCDF_PATH}/lib -lnetcdff -lnetcdf")
  endif()
endif()
